(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1085:function(e,t,a){},1086:function(e,t,a){},1087:function(e,t,a){},1088:function(e,t,a){},1089:function(e,t,a){},1090:function(e,t,a){},1091:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(10),o=a.n(c),i=(a(22),a(23),a(24),a(25),"SET_ACTIVE_USER_ID"),l="SET_TYPING_VALUE",u="SEND_MESSAGE",m=function(e){return{type:i,payload:e}},d=a(5),f=a(2),v=a(26),p=a(35),g=a(36),h=a(1),E=(n=10,Array.from({length:n},function(){return b()})),_=h.mapKeys(E,"user_id"),y=function(e){var t={};return h.forEach(E,function(a){var n;t[a.user_id]=Object(f.a)({},h.mapKeys((n=e,Array.from({length:n},function(e,t){return{number:t,text:p.sentence(),is_user_msg:g.random.boolean()}})),"number"))}),t};b(),y(10);function b(){return{name:g.name.findName(),email:g.internet.email(),profile_pic:g.internet.avatar(),status:p.sentence(),user_id:v.generate()}}var N=a(3),w=a(1),U=a.n(w);var S=Object(d.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b();return arguments.length>1&&arguments[1],e},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;arguments.length>1&&arguments[1];return e},activeUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return t.payload;default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y(10),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:console.log("action",t.payload);var a=t.payload,n=a.message,r=a.userId,s=e[r],c=+U.a.keys(s).pop()+1;return Object(f.a)({},e,Object(N.a)({},r,Object(f.a)({},s,Object(N.a)({},c,{number:c,text:n,is_user_msg:!0}))));default:return e}},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return t.payload;case u:return"";default:return e}}}),I=Object(d.b)(S);function j(e){var t=e.user_id;I.dispatch(m(t))}var k=function(e){var t=e.user,a=t.name,n=t.profile_pic,r=t.status;return s.a.createElement("div",{className:"User",onClick:j.bind(null,t)},s.a.createElement("img",{src:n,alt:a,className:"User__pic"}),s.a.createElement("div",{className:"User__details"},s.a.createElement("p",{className:"User__details-name"},a),s.a.createElement("p",{className:"User__details-status"},r)))},O=function(e){var t=e.contacts;return s.a.createElement("aside",{className:"Sidebar"},t.map(function(e){return s.a.createElement(k,{key:e.user_id,user:e})}))},C=(a(1085),a(1086),function(e){var t=e.user,a=t.name,n=t.profile_pic,r=t.status,c=a.split(" ")[0];return s.a.createElement("div",{className:"Empty"},s.a.createElement("h1",{className:"Empty__name"},"Welcome, ",c," "),s.a.createElement("img",{src:n,alt:a,className:"Empty__img"}),s.a.createElement("p",{className:"Empty__status"},s.a.createElement("b",null,"Status:")," ",r),s.a.createElement("button",{className:"Empty__btn"},"Start a conversation"),s.a.createElement("p",{className:"Empty__info"},"Search for someone to start chatting with or go to Contacts to see who is available"))});a(1087);var T=function(e){var t=e.user,a=t.name,n=t.status;return s.a.createElement("header",{className:"Header"},s.a.createElement("h1",{className:"Header__name"},a),s.a.createElement("p",{className:"Header__status"},n))},R=a(12),A=a(13),B=a(15),D=a(14),M=a(16),x=(a(1088),function(e){var t=e.message,a=t.text,n=t.is_user_msg;return s.a.createElement("span",{className:"Chat ".concat(n?"is-user-msg":"")},a)}),H=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(B.a)(this,Object(D.a)(t).call(this,e))).scrollToBottom=function(){a.chatsRef.current.scrollTop=a.chatsRef.current.scrollHeight},a.chatsRef=s.a.createRef(),a}return Object(M.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){return s.a.createElement("div",{className:"Chats",ref:this.chatsRef},this.props.messages.map(function(e){return s.a.createElement(x,{message:e,key:e.number})}))}}]),t}(r.Component),W=(a(1089),function(e){var t=I.getState();e.preventDefault();var a=t.typing,n=t.activeUserId;I.dispatch({type:u,payload:{message:a,userId:n}})}),G=function(e){var t=e.value;return s.a.createElement("form",{className:"Message",onSubmit:W},s.a.createElement("input",{className:"Message__input",onChange:function(e){var t;I.dispatch((t=e.target.value,{type:l,payload:t}))},value:t,placeholder:"write a message"}))},J=(a(1090),function(e){var t=e.activeUserId,a=I.getState(),n=a.contacts[t],r=a.messages[t],c=a.typing;return console.log("activeUser",n),s.a.createElement("div",{className:"ChatWindow"},s.a.createElement(T,{user:n}),s.a.createElement(H,{messages:U.a.values(r)}),s.a.createElement(G,{value:c}))}),K=function(e){var t=e.user,a=e.activeUserId;return s.a.createElement("main",{className:"Main"},a?s.a.createElement(J,{activeUserId:a}):s.a.createElement(C,{user:t,activeUserId:a}))},V=function(){var e=I.getState(),t=e.contacts,a=e.user,n=e.activeUserId;return s.a.createElement("div",{className:"App"},s.a.createElement(O,{contacts:U.a.values(t)}),s.a.createElement(K,{user:a,activeUserId:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=function(){return console.log("%c Rendered with \ud83d\udc49 \ud83d\udc49 \ud83d\udc47 ","background: purple;color: #fff"),console.log(I.getState()),o.a.render(s.a.createElement(V,null),document.getElementById("root"))};L(),I.subscribe(L),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},17:function(e,t,a){e.exports=a(1091)},22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){}},[[17,1,2]]]);
//# sourceMappingURL=main.cdcb8eed.chunk.js.map